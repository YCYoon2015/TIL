# 211025 TIL

> 웹 개발을 위해 알맞은 HTTP 결과를 반환해야 한다. 또한 사용하는 API로부터 HTTP 결과를 보고 해석해야한다. 항상 모든 결과를 암기할 수 없어 필요할때 참고하고자 정리한다.



### HTTP(**H**yper**T**ext **T**ransfer **P**rotocol)란?

- 웹 상에서 정보를 주고받을 수 있는 프로토콜(약속, 규칙)이다.
- JSON, TEXT, IMG 등 대부분의 파일을 전송 할 수 있다.
- 요청 / 응답 이라는 클라이언트와 서버간의 단방향 통신이다.
- Stateless: 서버는 클라이언트 상태를 저장하지 않는다.
  - 각각의 요청이 독립적이다. 이는 이전에 클라이언트가 어떤 요청을 했는지 서버는 알수 없다는 의미이다.
  - 이렇게 설계된 이유는 서버가 확장 가능성을 가지기 때문이다. 대규모 트래픽(요청)을 관리하는 서버에서 사용자의 정보를 공유한다면 서버는 서로 사용자 상태를 공유해야한다. 이는 비용을 발생시키기 때문에 사용자의 상태 저장은 하지않는것이 유익하다.
- Connectionless: 기본적으로 서버는 클라이언트와 연결을 유지않지 않는다.
  - 서버와 클라이언트 유지에도 자원이 사용되기 때문이다. 최근에는 연결을 맺고 끝는 비용과 연결을 유지하는 비용중에서 더 유리한것을 선택하기 위한 방법도 사용된다.



### HTTP 구조

3부분 (시작라인, 헤더, 바디)으로 구성한다.

- 시작라인
  - 요청: **Method** + **Path or Query** + **HTTP Version** (GET / HTTP / 1.1)
    - 무조건 한줄이다. 2줄이 될 수 없다.
    - Method는 GET, POST, PUT, DELETE 등이 있다.
    - Path or Query는 리소스 위치 경로이다.
    - HTTP Version은 프로토콜이 HTTP/3인지 HTTP/2인지 따라 처리 방식이 다르기때문에 필요하다.
  - 응답: **HTTP Vesrion** + **Status Code** + **Status Message** (HPPT/1.1 200 OK)
    - HTTP Version은 요청과 유사하다
    - 100~500번대의 응답을 보내어 처리 결과를 알려준다.
- 헤더
  - HTTP 메세지에 대한 정보를 포함한다.
  - key - values 형태로 다양한 정보들이 들어간다. (정보의 종류는 요청과 응답이 다르다.)
- 바디
  - 실제 전송되는 데이터가 담긴다.
  - 바디가 없이 데이터를 전송할 수 있다. (바디가 필요없는 경우)



### URI (Uniform Resource Identifier)

> 앞서 HTTP의 특징과 구조를 보았다. HTTP를 통해 다양한 리소스(자원)이 전달될 수 있는데 그럴때 어떤 방식으로 식별되는지 알아본다.

URI는 리소스(자원)을 구분할 수 있는 식별자이다. 이를 통해 접근하는 리소스의 위치(주소)를 알 수 있다. 웹에서 일반적으로 주소창에 보이는 도메인(naver.com)이 예시이다.

URI은 식별 방식에 따라 URL과 URN으로 구분할 수 있다. 각각 한번 알아보자.

- URL (Uniform Resource Locator)
  - 경로(Locator)를 기반으로 리소스의 위치를 식별한다.
  - Protocol(Scheme), Host Name (IP), Port, Path or Query (+알파)로 구성된다.
    - Protocol: 어플리케이션 통신 규약 (HTTP, FTP, DATA 등)
    - Host: 요청받는 서버 이름 (숫자형 IP주소도 가능)
    - Post: 리소스에 접근하는데 사용되는 기술적인 문 (HTTP 80, HTTPS 443)
    - Path: 서버상의 경로
      Query(Identifier): 서버에 제공되는 추가적인 매개변수 (key-value)
    - Fragment: 해당 문서(HTML)에 특정 부분을 보여주는 방법 (#뒤에 사용)
  - 웹주소, 링크라고도 불린다.
- URN (Uniform Resource Name)
  - 위치에 영향을 받지 않은 고유한 이름이다.
  - 예로 들면, ISBN(국제표준도서번호)

